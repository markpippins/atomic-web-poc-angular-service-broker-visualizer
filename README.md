
# Service Broker 3D Visualizer ğŸŒ

A high-performance, interactive 3D visualization tool designed to model, simulate, and architect distributed systems. Built with **Angular (Zoneless)** and **Three.js**, this application brings flat architecture diagrams to life.

## ğŸš€ Features

### ğŸ¨ Interactive 3D Canvas
- **Orbit & Zoom**: Full 3D camera controls to view architecture from any angle.
- **Drag & Drop**: Switch to "Move Mode" to rearrange nodes spatially in 3D space.
- **Context Aware**: Right-click context menus for quick actions (New, Delete, etc.).
- **Dynamic Connections**: Visual lines connect services, automatically updating as nodes float or move.

### âš¡ Traffic Simulation
- Visualize data flow between services with the **Simulation Mode**.
- Watch packets travel across connection lines to identify potential bottlenecks or validate flow logic.

### ğŸ› ï¸ Component Creator
- **Custom Types**: Define new service types (e.g., specific databases, microservices).
- **Visual Editor**: Configure geometry (Sphere, Box, Torus, Server Rack), colors, and scale.
- **Rule Engine**: Define connection rules (e.g., "Web App" can connect to "Proxy" but not "Database").
- **Live Preview**: See your component spin in 3D before saving it to the registry.

### ğŸ’¾ Persistence
- **Export to JSON**: Save your architecture layout to a local file.
- **Import**: Reload previous diagrams instantly.

## ğŸ› ï¸ Tech Stack

- **Framework**: Angular v21+ (Standalone Components, Signals, Zoneless Change Detection).
- **Graphics Engine**: Three.js (WebGL).
- **Styling**: Tailwind CSS.
- **State Management**: Angular Signals & RxJS.

## ğŸ® Controls & Usage

### 1. Camera Mode (Default)
- **Left Click**: Select a node to view details in the Inspector.
- **Left Click + Drag (Background)**: Rotate the camera around the center.
- **Right Click + Drag**: Pan the camera.
- **Scroll Wheel**: Zoom in/out.
- **Double Click Node**: Focus camera on specific node.

### 2. Move Mode
- Toggle via the toolbar or Context Menu.
- **Left Click + Drag (Node)**: Move the node on the X/Y plane relative to the camera.

### 3. Context Menu
- **Right Click** anywhere on the canvas or on a node to open.
- Quickly add new components based on mouse position.

### 4. Inspector Panel (Right Sidebar)
- Modify the **Label**, **Description**, and **Color** of the selected node.
- Fine-tune **X/Y/Z positions**.
- **Manage Connections**: Select a target node from the dropdown to create a link.

### 5. Component Palette (Left Sidebar)
- Drag-and-drop is not yet supported, but clicking a generic item (e.g., "REST API", "JMS Queue") adds it to the center of the scene.

## ğŸ“‚ Project Structure

```text
src/
â”œâ”€â”€ app.component.ts            # Main layout, UI overlays, and HUD logic
â”œâ”€â”€ components/
â”‚   â””â”€â”€ component-creator.ts    # The form and 3D preview for creating new types
â”œâ”€â”€ config/
â”‚   â””â”€â”€ component-config.ts     # Initial registry of types (REST, gRPC, JMS, etc.)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ architecture-viz.ts     # Core Three.js engine (Scene, Renderer, Raycasting)
â”‚   â””â”€â”€ component-registry.ts   # State management for component definitions
â””â”€â”€ ...
```

## ğŸ§© Default Component Types

The system comes pre-loaded with standard architectural components:

| Category | Types |
|----------|-------|
| **Services** | REST API, GraphQL API, gRPC Service, Background Job |
| **Infrastructure** | API Gateway, Reverse Proxy, Message Queue, **JMS Queue** |
| **Storage** | Database (Cylinder), Cache (Red Box) |
| **Clients** | Web Application |

## ğŸ§ª Simulation Logic

The simulation uses a probabilistic particle system. 
1. When enabled, the camera enters an auto-orbit mode.
2. "Packets" (yellow spheres) are spawned on existing connection lines.
3. They travel from `Source` to `Target` to visualize connectivity.

## ğŸ”§ extending the Project

To add hardcoded types, edit `src/config/component-config.ts`.
To add dynamic types at runtime, use the **Component Creator** tab in the application.

---

*Generated by Google GenAI*
